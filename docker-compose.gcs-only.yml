version: '3.8'

services:
  api:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: system-llm-api
    ports:
      - "8000:8000"
    volumes:
      - .:/app
      - /app/logs
      - ./system-llm-storage-key.json:/app/credentials/system-llm-storage-key.json:ro
    env_file:
      - .env
    environment:
      - STORAGE_TYPE=${STORAGE_TYPE}
      - GCS_BUCKET_NAME=${GCS_BUCKET_NAME}
      - GCS_PROJECT_ID=${GCS_PROJECT_ID}
      - GCS_CREDENTIALS_PATH=${GCS_CREDENTIALS_PATH}
    restart: unless-stopped
